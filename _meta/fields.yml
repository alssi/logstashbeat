defaults:
  type: keyword
  required: false
  index: true

env:
  type: group
  description: >
    Contains common fields available in all event types.
  fields:
    - type: group
      name: beat
      fields:
      - name: name
        description: >
          The name of the Beat sending the log messages. If the shipper name is set
          in the configuration file, then that value is used. If it is not set,
          the hostname is used.
      - name: hostname
        description: >
          The hostname as returned by the operating system on which the Beat is
          running.
    - name: "@timestamp"
      type: date
      required: true
      format: YYYY-MM-DDTHH:MM:SS.milliZ
      example: 2015-01-24T14:06:05.071Z
      description: >
        The timestamp when the log line was read. The precision is in
        milliseconds. The timezone is UTC.
    - name: type
      required: true
      description: >
        The type of the event generated by this beat, one of "jvm", "events", "process"

jvm:
  fields:
    - name: counter
      type: integer
      required: true
      description: >
        The sequence number of the sample
    - type: group
      name: jvm
      fields:
      - name: threads.count
        description: >
          The current number of running threads.
      - name: threads.peak_count
        description: >
          The peak number of threads that have run.
      - name: mem.heap_used_in_bytes
        type: integer
        description: >
          The heap usage (in bytes)
      - name: mem.heap_used_percent
        type: integer
        description: >
          The heap usage (in percent)
      - name: mem.heap_committed_in_bytes
        type: integer
        description: >
          The size of memory committed to the heap (in bytes)
      - name: mem.heap_max_in_bytes
        type: integer
        description: >
          The heap max usage (in bytes)
      - name: mem.non_heap_used_in_bytes
        type: integer
        description: >
          The non-heap usage (in bytes)
      - name: mem.non_heap_committed_in_bytes
        type: integer
        description: >
          The size of memory committed to non-heap (in bytes)
      - type: group
        name: mem.pools.survivor
        fields:
        - name: mem.pools.survivor.peak_used_in_bytes
          description: >
            The peak usage of the survivor pool (in bytes)
        - name: mem.pools.survivor.used_in_bytes
          description: >
            The usage of the survivor pool (in bytes)
        - name: mem.pools.survivor.peak_max_in_bytes
          description: >
            The peak max usage of the survivor pool (in bytes)
        - name: mem.pools.survivor.max_in_bytes
          description: >
            The max usage of the survivor pool (in bytes)
        - name: mem.pools.survivor.committed_in_bytes
          description: >
            The size of the committed memory for the survivor pool (in bytes)
      - type: old
        name: mem.pools.old
        fields:
        - name: mem.pools.old.peak_used_in_bytes
          description: >
            The peak usage of the old pool (in bytes)
        - name: mem.pools.old.used_in_bytes
          description: >
            The usage of the old pool (in bytes)
        - name: mem.pools.old.peak_max_in_bytes
          description: >
            The peak max usage of the old pool (in bytes)
        - name: mem.pools.old.max_in_bytes
          description: >
            The max usage of the old pool (in bytes)
        - name: mem.pools.old.committed_in_bytes
          description: >
            The size of the committed memory for the old pool (in bytes)
      - type: group
        name: mem.pools.young
        fields:
        - name: mem.pools.young.peak_used_in_bytes
          description: >
            The peak usage of the young pool (in bytes)
        - name: mem.pools.young.used_in_bytes
          description: >
            The usage of the young pool (in bytes)
        - name: mem.pools.young.peak_max_in_bytes
          description: >
            The peak max usage of the young pool (in bytes)
        - name: mem.pools.young.max_in_bytes
          description: >
            The max usage of the young pool (in bytes)
        - name: mem.pools.young.committed_in_bytes
          description: >
            The size of the committed memory for the young pool (in bytes)

process:
  fields:
    - name: counter
      type: integer
      required: true
      description: >
        The sequence number of the sample
    - type: group
      name: process
      fields:
      - name: process.max_file_descriptors
        description: >
          The maximum count of available file descriptors
      - name: process.open_file_descriptors
        description: >
          The count of open file descriptors
      - name: process.peak_open_file_descriptors
        description: >
          The peak count of open file descriptors
      - name: process.cpu.percent
        description: >
          The CPU load in percent
      - name: process.cpu.total_in_millis
        description: >
          The amount of CPU processing time (in milliseconds)
      - name: mem.total_virtual_in_bytes
        description: >
          The amount of virtual memory (in bytes)

pipeline:
  fields:
    - name: counter
      type: integer
      required: true
      description: >
        The sequence number of the sample
    - type: group
      name: pipeline.events
      fields:
      - name: pipeline.events.in
        description: >
          The number of events that went through the input plugins
      - name: pipeline.events.filtered
        description: >
          The number of events that went through the filter plugins
      - name: pipeline.events.out
        description: >
          The number of events that went through the output plugins
    - type: group
      name: pipeline.pipeline.inputs
      fields:
      - name: pipeline.pipeline.inputs.id
        description: >
          The id of the input plugin
      - name: pipeline.pipeline.inputs.name
        description: >
          The name of the input plugin
      - name: pipeline.pipeline.inputs.events.in
        description: >
          The number of events that went through the input plugin
      - name: pipeline.pipeline.inputs.events.out
        description: >
          The number of events that went through the input plugin
      - name: pipeline.pipeline.inputs.events.duration_in_millis
        description: >
          The amount of time spent in the input plugin (in milliseconds)
    - type: group
      name: pipeline.pipeline.filters
      fields:
      - name: pipeline.pipeline.filters.id
        description: >
          The id of the filter plugin
      - name: pipeline.pipeline.filters.name
        description: >
          The name of the filter plugin
      - name: pipeline.pipeline.filters.events.in
        description: >
          The number of events that went through the filter plugin
      - name: pipeline.pipeline.filters.events.out
        description: >
          The number of events that went through the filter plugin
      - name: pipeline.pipeline.filters.events.duration_in_millis
        description: >
          The amount of time spent in the filter plugin (in milliseconds)
    - type: group
      name: pipeline.pipeline.outputs
      fields:
      - name: pipeline.pipeline.outputs.id
        description: >
          The id of the output plugin
      - name: pipeline.pipeline.outputs.name
        description: >
          The name of the output plugin
      - name: pipeline.pipeline.outputs.events.in
        description: >
          The number of events that went through the output plugin
      - name: pipeline.pipeline.outputs.events.out
        description: >
          The number of events that went through the output plugin
      - name: pipeline.pipeline.outputs.events.duration_in_millis
        description: >
          The amount of time spent in the output plugin (in milliseconds)

hot_threads:
  fields:
    - name: counter
      type: integer
      required: true
      description: >
        The sequence number of the sample
    - type: group
      name: hot_threads
      fields:
      - name: hot_threads.host
        description: >
          The hostname as returned by the operating system on which the Beat is
          running.
      - name: hot_threads.http_address
        description: >
          The HTTP address on which the hot threads have been requested
      - name: hot_threads.version
        description: >
          The logstash version
      - type: group
        name: hot_threads.hot_threads
        fields:
        - name: hot_threads.hot_threads.time
          description: >
            The timestamp at which the hot threads were captured
        - name: hot_threads.hot_threads.busiest_threads
          description: >
            The number of busiest threads that have been captured
        - type: group
          name: hot_threads.hot_threads.threads
          fields:
          - name: hot_threads.hot_threads.threads.name
            description: >
              The name of the captured hot thread
          - name: hot_threads.hot_threads.threads.state
            description: >
              The state of the captured hot thread
          - name: hot_threads.hot_threads.threads.percent_of_cpu_time
            description: >
              The CPU time of the hot thread (in percent)
          - name: hot_threads.hot_threads.threads.traces
            description: >
              The stack trace of the hot thread

sections:
  - ["env", "Common"]
  - ["jvm", "JVM"]
  - ["process", "Process"]
  - ["pipeline", "Pipeline"]
  - ["hot_threads", "Hot threads"]
